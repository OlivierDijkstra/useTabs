{"version":3,"file":"index.module.js","sources":["../src/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\n/**\n *\n */\nexport default function useTabs({ container, defaultTab, duration = 150 }) {\n  const DURATION = `${duration}ms`;\n\n  const DEFAULT_STYLES = {\n    opacity: 0,\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    pointerEvents: \"none\",\n    zIndex: \"-1\",\n  };\n\n  const [activeTab, setActiveTab] = useState(defaultTab);\n  const [initial, setInitial] = useState(defaultTab);\n  const [tabBoundingBox, setTabBoundingBox] = useState(\n    defaultTab?.current?.getBoundingClientRect() || null\n  );\n  const [wrapperBoundingBox, setWrapperBoundingBox] = useState(null);\n  const [isHoveredFromNull, setIsHoveredFromNull] = useState(\n    defaultTab ? true : false\n  );\n\n  const [highlightStyles, setHightlightStyles] = useState(DEFAULT_STYLES);\n\n  function setHightlight(e) {\n    if (!e) {\n      return;\n    }\n\n    const target = e?.target || e?.current;\n\n    setTabBoundingBox(target.getBoundingClientRect());\n    setWrapperBoundingBox(container.current.getBoundingClientRect());\n    setIsHoveredFromNull(!activeTab);\n    setActiveTab(e);\n  }\n\n  function updateHightlightStyles(tab, wrapper) {\n    const transformDuration = isHoveredFromNull || initial ? \"0ms\" : DURATION;\n    const opacityDuration = defaultTab ? \"0ms\" : DURATION;\n\n    setHightlightStyles({\n      ...DEFAULT_STYLES,\n      transition: `transform ${transformDuration}, opacity ${opacityDuration}`,\n      width: `${tab.width}px`,\n      height: `${tab.height}px`,\n      opacity: activeTab ? 1 : 0,\n      transform: `translate(\n          ${tab.left - wrapper.left}px, \n          ${tab.top - wrapper.top}px\n        )`,\n    });\n\n    setInitial(false);\n  }\n\n  useEffect(() => {\n    if (tabBoundingBox && wrapperBoundingBox) {\n      updateHightlightStyles(tabBoundingBox, wrapperBoundingBox);\n    }\n  }, [tabBoundingBox, wrapperBoundingBox]);\n\n  useEffect(() => {\n    if (defaultTab?.current) {\n      setHightlight(defaultTab);\n    }\n  }, []);\n\n  return {\n    setHightlight,\n    highlightStyles,\n  };\n}\n"],"names":["useTabs","container","defaultTab","duration","DURATION","DEFAULT_STYLES","opacity","position","left","top","pointerEvents","zIndex","useState","activeTab","setActiveTab","initial","setInitial","current","getBoundingClientRect","tabBoundingBox","setTabBoundingBox","wrapperBoundingBox","setWrapperBoundingBox","isHoveredFromNull","setIsHoveredFromNull","highlightStyles","setHightlightStyles","setHightlight","e","target","useEffect","tab","wrapper","transition","width","height","transform"],"mappings":"yQAKwBA,WAAUC,IAAAA,UAAWC,IAAAA,eAAYC,SACjDC,cAD4D,YAG5DC,EAAiB,CACrBC,QAAS,EACTC,SAAU,WACVC,KAAM,EACNC,IAAK,EACLC,cAAe,OACfC,OAAQ,QAGwBC,EAASV,GAApCW,OAAWC,SACYF,EAASV,GAAhCa,OAASC,SAC4BJ,SAC1CV,YAAAA,EAAYe,kBAASC,0BAA2B,MAD3CC,OAAgBC,SAG6BR,EAAS,MAAtDS,OAAoBC,SACuBV,IAChDV,GADKqB,OAAmBC,SAIqBZ,EAASP,GAAjDoB,OAAiBC,OAExB,SAASC,EAAcC,GAChBA,IAMLR,UAFeQ,SAAAA,EAAGC,gBAAUD,SAAAA,EAAGX,UAENC,yBACzBI,EAAsBrB,EAAUgB,QAAQC,yBACxCM,GAAsBX,GACtBC,EAAac,IAkCf,OAZAE,EAAU,WAnBV,IAAgCC,EAAKC,EAoB/Bb,GAAkBE,IAhBtBK,OACKrB,GACH4B,yBALwBV,GAAqBR,EAAU,MAAQX,iBACzCF,EAAa,MAAQE,GAK3C8B,OAP4BH,EAqBLZ,GAdTe,WACdC,OAAWJ,EAAII,YACf7B,QAASO,EAAY,EAAI,EACzBuB,oCACML,EAAIvB,MAXuBwB,EAqBMX,GAVdb,0BACnBuB,EAAItB,IAAMuB,EAAQvB,wBAI1BO,GAAW,KAOV,CAACG,EAAgBE,IAEpBS,EAAU,iBACJ5B,GAAAA,EAAYe,SACdU,EAAczB,IAEf,IAEI,CACLyB,cAAAA,EACAF,gBAAAA"}