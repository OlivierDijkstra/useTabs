{"version":3,"file":"index.umd.js","sources":["../src/index.ts"],"sourcesContent":["import { RefObject, useEffect, useState } from \"react\";\n\ntype useTabsProps = {\n  container: RefObject<HTMLElement>;\n  defaultTab: RefObject<HTMLElement>;\n  duration: number;\n  zIndex: number;\n};\n\n/**\n * @param {RefObject<HTMLElement>} container\n * @param {RefObject<HTMLElement>} defaultTab\n * @param {number} duration\n * @param {number} zIndex\n *\n * @returns {[Function, Object]}\n */\nexport default function useTabs({\n  container,\n  defaultTab,\n  duration = 150,\n  zIndex = 0,\n}: useTabsProps) {\n  const DURATION = `${duration}ms`;\n\n  const DEFAULT_STYLES = {\n    opacity: 0,\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    transition: \"transform 0s, opacity 0s\",\n    pointerEvents: \"none\",\n    zIndex,\n    width: \"0px\",\n    height: \"0px\",\n    transform: \"translate(0, 0)\",\n  };\n\n  const [activeTab, setActiveTab] = useState<RefObject<HTMLElement> | null>(\n    defaultTab\n  );\n  const [initial, setInitial] = useState<boolean>(defaultTab ? true : false);\n  const [tabBoundingBox, setTabBoundingBox] = useState<DOMRect | null>(\n    defaultTab?.current?.getBoundingClientRect() || null\n  );\n  const [wrapperBoundingBox, setWrapperBoundingBox] = useState(null);\n  const [isHoveredFromNull, setIsHoveredFromNull] = useState<boolean>(\n    defaultTab ? true : false\n  );\n\n  const [highlightStyles, setHighlightStyles] =\n    useState<typeof DEFAULT_STYLES>(DEFAULT_STYLES);\n\n  /**\n   * Highlights a tab and updates the highlightStyles.\n   * This should be called when the user hovers over a tab.\n   * e.g: onMouseEnter={setHighlight}\n   *\n   * @param   {MouseEvent}  e  onMouseEnter event\n   *\n   * @return  {void}\n   */\n  function setHighlight(e) {\n    if (!e) {\n      return setActiveTab(null);\n    }\n\n    const target = e?.target || e?.current;\n\n    setTabBoundingBox(target.getBoundingClientRect());\n    setWrapperBoundingBox(container.current.getBoundingClientRect());\n    setIsHoveredFromNull(!activeTab);\n    setActiveTab(e);\n  }\n\n  function updateHightlightStyles(tab, wrapper) {\n    const transformDuration = isHoveredFromNull || initial ? \"0ms\" : DURATION;\n    const opacityDuration = defaultTab ? \"0ms\" : DURATION;\n\n    setHighlightStyles({\n      ...DEFAULT_STYLES,\n      transition: `transform ${transformDuration}, opacity ${opacityDuration}`,\n      width: `${tab.width}px`,\n      height: `${tab.height}px`,\n      opacity: activeTab ? 1 : 0,\n      transform: `translate(\n          ${tab.left - wrapper.left}px, \n          ${tab.top - wrapper.top}px\n        )`,\n    });\n\n    setInitial(false);\n  }\n\n  useEffect(() => {\n    if (tabBoundingBox && wrapperBoundingBox) {\n      updateHightlightStyles(tabBoundingBox, wrapperBoundingBox);\n    }\n  }, [tabBoundingBox, wrapperBoundingBox]);\n\n  useEffect(() => {\n    if (!activeTab) {\n      setHighlightStyles(DEFAULT_STYLES);\n    }\n  }, [activeTab]);\n\n  useEffect(() => {\n    if (defaultTab?.current) {\n      setHighlight(defaultTab);\n    }\n  }, []);\n\n  return {\n    setHighlight,\n    highlightStyles,\n  };\n}\n"],"names":["container","defaultTab","duration","zIndex","DURATION","DEFAULT_STYLES","opacity","position","left","top","transition","pointerEvents","width","height","transform","useState","activeTab","setActiveTab","initial","setInitial","current","getBoundingClientRect","tabBoundingBox","setTabBoundingBox","wrapperBoundingBox","setWrapperBoundingBox","isHoveredFromNull","setIsHoveredFromNull","highlightStyles","setHighlightStyles","setHighlight","e","target","useEffect","tab","wrapper"],"mappings":"qeAkBEA,IAAAA,UACAC,IAAAA,eACAC,aACAC,OAEMC,cAHK,YAKLC,EAAiB,CACrBC,QAAS,EACTC,SAAU,WACVC,KAAM,EACNC,IAAK,EACLC,WAAY,2BACZC,cAAe,OACfR,kBAXO,IAYPS,MAAO,MACPC,OAAQ,MACRC,UAAW,qBAGqBC,WAChCd,GADKe,OAAWC,SAGYF,aAAkBd,GAAzCiB,OAASC,SAC4BJ,kBAC1Cd,YAAAA,EAAYmB,kBAASC,0BAA2B,MAD3CC,OAAgBC,SAG6BR,WAAS,MAAtDS,OAAoBC,SACuBV,aAChDd,GADKyB,OAAmBC,SAKxBZ,WAAgCV,GAD3BuB,OAAiBC,OAYxB,SAASC,EAAaC,GACpB,IAAKA,EACH,OAAOd,EAAa,MAKtBM,UAFeQ,SAAAA,EAAGC,gBAAUD,SAAAA,EAAGX,UAENC,yBACzBI,EAAsBzB,EAAUoB,QAAQC,yBACxCM,GAAsBX,GACtBC,EAAac,GAwCf,OAlBAE,YAAU,WAnBV,IAAgCC,EAAKC,EAoB/Bb,GAAkBE,IAhBtBK,OACKxB,GACHK,yBALwBgB,GAAqBR,EAAU,MAAQd,iBACzCH,EAAa,MAAQG,GAK3CQ,OAP4BsB,EAqBLZ,GAdTV,WACdC,OAAWqB,EAAIrB,YACfP,QAASU,EAAY,EAAI,EACzBF,oCACMoB,EAAI1B,MAXuB2B,EAqBMX,GAVdhB,0BACnB0B,EAAIzB,IAAM0B,EAAQ1B,wBAI1BU,GAAW,KAOV,CAACG,EAAgBE,IAEpBS,YAAU,WACHjB,GACHa,EAAmBxB,IAEpB,CAACW,IAEJiB,YAAU,iBACJhC,GAAAA,EAAYmB,SACdU,EAAa7B,IAEd,IAEI,CACL6B,aAAAA,EACAF,gBAAAA"}