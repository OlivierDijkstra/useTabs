{"version":3,"file":"index.modern.js","sources":["../src/index.ts"],"sourcesContent":["import { RefObject, useEffect, useState } from \"react\";\n\ntype useTabsProps = {\n  container: RefObject<HTMLElement>;\n  defaultTab: RefObject<HTMLElement>;\n  duration: number;\n};\n\n/**\n * @param {RefObject<HTMLElement>} container\n * @param {RefObject<HTMLElement>} defaultTab\n * @param {number} duration\n *\n * @returns {[Function, Object]}\n */\nexport default function useTabs({\n  container,\n  defaultTab,\n  duration = 150,\n}: useTabsProps) {\n  const DURATION = `${duration}ms`;\n\n  const DEFAULT_STYLES = {\n    opacity: 0,\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    transition: \"transform 0s, opacity 0s\",\n    pointerEvents: \"none\",\n    zIndex: \"-1\",\n    width: \"0px\",\n    height: \"0px\",\n    transform: \"translate(0, 0)\",\n  };\n\n  const [activeTab, setActiveTab] = useState<RefObject<HTMLElement> | null>(\n    defaultTab\n  );\n  const [initial, setInitial] = useState<boolean>(defaultTab ? true : false);\n  const [tabBoundingBox, setTabBoundingBox] = useState<DOMRect | null>(\n    defaultTab?.current?.getBoundingClientRect() || null\n  );\n  const [wrapperBoundingBox, setWrapperBoundingBox] = useState(null);\n  const [isHoveredFromNull, setIsHoveredFromNull] = useState<boolean>(\n    defaultTab ? true : false\n  );\n\n  const [highlightStyles, setHightlightStyles] =\n    useState<typeof DEFAULT_STYLES>(DEFAULT_STYLES);\n\n  /**\n   * Highlights a tab and updates the highlightStyles.\n   * This should be called when the user hovers over a tab.\n   * e.g: onMouseEnter={setHighlight}\n   *\n   * @param   {MouseEvent}  e  onMouseEnter event\n   *\n   * @return  {void}\n   */\n  function setHightlight(e) {\n    if (!e) {\n      return;\n    }\n\n    const target = e?.target || e?.current;\n\n    setTabBoundingBox(target.getBoundingClientRect());\n    setWrapperBoundingBox(container.current.getBoundingClientRect());\n    setIsHoveredFromNull(!activeTab);\n    setActiveTab(e);\n  }\n\n  function updateHightlightStyles(tab, wrapper) {\n    const transformDuration = isHoveredFromNull || initial ? \"0ms\" : DURATION;\n    const opacityDuration = defaultTab ? \"0ms\" : DURATION;\n\n    setHightlightStyles({\n      ...DEFAULT_STYLES,\n      transition: `transform ${transformDuration}, opacity ${opacityDuration}`,\n      width: `${tab.width}px`,\n      height: `${tab.height}px`,\n      opacity: activeTab ? 1 : 0,\n      transform: `translate(\n          ${tab.left - wrapper.left}px, \n          ${tab.top - wrapper.top}px\n        )`,\n    });\n\n    setInitial(false);\n  }\n\n  useEffect(() => {\n    if (tabBoundingBox && wrapperBoundingBox) {\n      updateHightlightStyles(tabBoundingBox, wrapperBoundingBox);\n    }\n  }, [tabBoundingBox, wrapperBoundingBox]);\n\n  useEffect(() => {\n    if (defaultTab?.current) {\n      setHightlight(defaultTab);\n    }\n  }, []);\n\n  return {\n    setHightlight,\n    highlightStyles,\n  };\n}\n"],"names":["useTabs","container","defaultTab","duration","DURATION","DEFAULT_STYLES","opacity","position","left","top","transition","pointerEvents","zIndex","width","height","transform","activeTab","setActiveTab","useState","initial","setInitial","tabBoundingBox","setTabBoundingBox","current","getBoundingClientRect","wrapperBoundingBox","setWrapperBoundingBox","isHoveredFromNull","setIsHoveredFromNull","highlightStyles","setHightlightStyles","setHightlight","e","target","useEffect","tab","wrapper"],"mappings":"yQAewBA,GAAQC,UAC9BA,EAD8BC,WAE9BA,EAF8BC,SAG9BA,EAAW,YAEX,MAAMC,KAAcD,MAEdE,EAAiB,CACrBC,QAAS,EACTC,SAAU,WACVC,KAAM,EACNC,IAAK,EACLC,WAAY,2BACZC,cAAe,OACfC,OAAQ,KACRC,MAAO,MACPC,OAAQ,MACRC,UAAW,oBAGNC,EAAWC,GAAgBC,EAChChB,IAEKiB,EAASC,GAAcF,IAAkBhB,IACzCmB,EAAgBC,GAAqBJ,SAC1ChB,YAAAA,EAAYqB,kBAASC,0BAA2B,OAE3CC,EAAoBC,GAAyBR,EAAS,OACtDS,EAAmBC,GAAwBV,IAChDhB,IAGK2B,EAAiBC,GACtBZ,EAAgCb,GAWlC,SAAS0B,EAAcC,GAChBA,IAMLV,UAFeU,SAAAA,EAAGC,gBAAUD,SAAAA,EAAGT,UAENC,yBACzBE,EAAsBzB,EAAUsB,QAAQC,yBACxCI,GAAsBZ,GACtBC,EAAae,IAkCf,OAZAE,EAAU,KAnBV,IAAgCC,EAAKC,EAoB/Bf,GAAkBI,IAhBtBK,OACKzB,GACHK,wBALwBiB,GAAqBR,EAAU,MAAQf,cACzCF,EAAa,MAAQE,IAK3CS,UAP4BsB,EAqBLd,GAdTR,UACdC,UAAWqB,EAAIrB,WACfR,QAASU,EAAY,EAAI,EACzBD,mCACMoB,EAAI3B,MAXuB4B,EAqBMX,GAVdjB,uBACnB2B,EAAI1B,IAAM2B,EAAQ3B,sBAI1BW,GAAW,KAOV,CAACC,EAAgBI,IAEpBS,EAAU,WACJhC,GAAAA,EAAYqB,SACdQ,EAAc7B,IAEf,IAEI,CACL6B,cAAAA,EACAF,gBAAAA"}