{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\n/**\n *\n */\nexport default function useTabs({ container, defaultTab, duration = 150 }) {\n  const DURATION = `${duration}ms`;\n\n  const DEFAULT_STYLES = {\n    opacity: 0,\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    pointerEvents: \"none\",\n    zIndex: \"-1\",\n  };\n\n  const [activeTab, setActiveTab] = useState(defaultTab);\n  const [initial, setInitial] = useState(defaultTab);\n  const [tabBoundingBox, setTabBoundingBox] = useState(\n    defaultTab?.current?.getBoundingClientRect() || null\n  );\n  const [wrapperBoundingBox, setWrapperBoundingBox] = useState(null);\n  const [isHoveredFromNull, setIsHoveredFromNull] = useState(\n    defaultTab ? true : false\n  );\n\n  const [highlightStyles, setHightlightStyles] = useState(DEFAULT_STYLES);\n\n  function setHightlight(e) {\n    if (!e) {\n      return;\n    }\n\n    const target = e?.target || e?.current;\n\n    setTabBoundingBox(target.getBoundingClientRect());\n    setWrapperBoundingBox(container.current.getBoundingClientRect());\n    setIsHoveredFromNull(!activeTab);\n    setActiveTab(e);\n  }\n\n  function updateHightlightStyles(tab, wrapper) {\n    const transformDuration = isHoveredFromNull || initial ? \"0ms\" : DURATION;\n    const opacityDuration = defaultTab ? \"0ms\" : DURATION;\n\n    setHightlightStyles({\n      ...DEFAULT_STYLES,\n      transition: `transform ${transformDuration}, opacity ${opacityDuration}`,\n      width: `${tab.width}px`,\n      height: `${tab.height}px`,\n      opacity: activeTab ? 1 : 0,\n      transform: `translate(\n          ${tab.left - wrapper.left}px, \n          ${tab.top - wrapper.top}px\n        )`,\n    });\n\n    setInitial(false);\n  }\n\n  useEffect(() => {\n    if (tabBoundingBox && wrapperBoundingBox) {\n      updateHightlightStyles(tabBoundingBox, wrapperBoundingBox);\n    }\n  }, [tabBoundingBox, wrapperBoundingBox]);\n\n  useEffect(() => {\n    if (defaultTab?.current) {\n      setHightlight(defaultTab);\n    }\n  }, []);\n\n  return {\n    setHightlight,\n    highlightStyles,\n  };\n}\n"],"names":["useTabs","container","defaultTab","duration","DURATION","DEFAULT_STYLES","opacity","position","left","top","pointerEvents","zIndex","activeTab","setActiveTab","useState","initial","setInitial","tabBoundingBox","setTabBoundingBox","current","getBoundingClientRect","wrapperBoundingBox","setWrapperBoundingBox","isHoveredFromNull","setIsHoveredFromNull","highlightStyles","setHightlightStyles","setHightlight","e","target","useEffect","tab","wrapper","transition","width","height","transform"],"mappings":"yQAKwBA,GAAQC,UAAEA,EAAFC,WAAaA,EAAbC,SAAyBA,EAAW,YAClE,MAAMC,EAAY,GAAED,MAEdE,EAAiB,CACrBC,QAAS,EACTC,SAAU,WACVC,KAAM,EACNC,IAAK,EACLC,cAAe,OACfC,OAAQ,OAGHC,EAAWC,GAAgBC,EAASZ,IACpCa,EAASC,GAAcF,EAASZ,IAChCe,EAAgBC,GAAqBJ,SAC1CZ,YAAAA,EAAYiB,kBAASC,0BAA2B,OAE3CC,EAAoBC,GAAyBR,EAAS,OACtDS,EAAmBC,GAAwBV,IAChDZ,IAGKuB,EAAiBC,GAAuBZ,EAAST,GAExD,SAASsB,EAAcC,GAChBA,IAMLV,UAFeU,SAAAA,EAAGC,gBAAUD,SAAAA,EAAGT,UAENC,yBACzBE,EAAsBrB,EAAUkB,QAAQC,yBACxCI,GAAsBZ,GACtBC,EAAae,IAkCf,OAZAE,EAAU,KAnBV,IAAgCC,EAAKC,EAoB/Bf,GAAkBI,IAhBtBK,OACKrB,GACH4B,WAAa,aALWV,GAAqBR,EAAU,MAAQX,cACzCF,EAAa,MAAQE,IAK3C8B,MAAQ,IAPoBH,EAqBLd,GAdTiB,UACdC,OAAS,GAAEJ,EAAII,WACf7B,QAASM,EAAY,EAAI,EACzBwB,UAAY,yBACNL,EAAIvB,MAXuBwB,EAqBMX,GAVdb,uBACnBuB,EAAItB,IAAMuB,EAAQvB,sBAI1BO,GAAW,KAOV,CAACC,EAAgBI,IAEpBS,EAAU,WACJ5B,GAAAA,EAAYiB,SACdQ,EAAczB,IAEf,IAEI,CACLyB,cAAAA,EACAF,gBAAAA"}